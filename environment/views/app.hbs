<!DOCTYPE html>
<html lang="en-us">

<head>
    <title>{{title}}</title>
    <meta charset="UTF-8">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />

    <link href="https://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700italic,700,900,900italic" rel="stylesheet">

    <!-- Icons.css -->
    <link type="text/css" rel="stylesheet" href="bower_components/mdi/css/materialdesignicons.min.css">
    <!-- Fuse Html -->
    <link type="text/css" rel="stylesheet" href="vendor/fuse-html/fuse-html.min.css" />
    <!--Animate CSS-->
    <link type="text/css" rel="stylesheet" href="bower_components/animate.css/animate.min.css" />
    <!--Ladda CSS-->
    <link type="text/css" rel="stylesheet" href="bower_components/ladda/dist/ladda.min.css" />
    <!--CodeMirrir CSS-->
    <link type="text/css" rel="stylesheet" href="bower_components/codemirror/lib/codemirror.css" />
    <link type="text/css" rel="stylesheet" href="bower_components/codemirror/theme/elegant.css" />
    <!-- Main CSS -->
    <link type="text/css" rel="stylesheet" href="stylesheets/main.css">
    <!--Style CSS-->
    <link type="text/css" rel="stylesheet" href="stylesheets/style.css">
    <!-- / STYLESHEETS -->

    <!-- JAVASCRIPT -->
    <!-- jQuery -->
    <script type="text/javascript" src="bower_components/jquery/dist/jquery.min.js"></script>
    <!-- Bootstrap -->
    <script type="text/javascript" src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <!--Ladda JS-->
    <script type="text/javascript" src="bower_components/ladda/dist/spin.min.js"></script>
    <script type="text/javascript" src="bower_components/ladda/dist/ladda.min.js"></script>
    <!--CodeMirrir JS-->
    <script type="text/javascript" src="bower_components/codemirror/lib/codemirror.js"></script>
    <script type="text/javascript" src="bower_components/codemirror/mode/javascript/javascript.js"></script>
    <!-- Fuse Html -->
    <script type="text/javascript" src="vendor/fuse-html/fuse-html.min.js"></script>
    <!--GO JS-->
    <script type="text/javascript" src="bower_components/gojs/release/go.js"></script>
    <!--New App JS-->
    <script type="text/javascript" src="javascripts/app.js"></script>
    <script type="text/javascript" src="javascripts/graph.js"></script>
    <!-- / JAVASCRIPT -->
</head>

<body class="layout layout-vertical layout-left-navigation layout-below-toolbar">
<main>
    <div id="wrapper">
        <aside id="aside" class="aside aside-left" data-fuse-bar="aside" data-fuse-bar-media-step="md" data-fuse-bar-position="left">
            <div class="aside-content-wrapper">

                <div class="aside-content bg-primary-700 text-auto">

                    <div class="aside-toolbar">

                        <div class="logo">
                            <img class="cuneiform-logo" src="images/logo-horizontal.png">
                        </div>

                        <button id="toggle-fold-aside-button" type="button" class="btn btn-icon d-none d-lg-block" data-fuse-aside-toggle-fold>
                            <i class="mdi mdi-backburger"></i>
                        </button>

                    </div>

                    <ul class="nav flex-column custom-scrollbar" id="sidenav" data-children=".nav-item">
                        <li class="nav-item" role="tab">
                            <a class="nav-link ripple with-arrow collapsed" data-toggle="collapse"
                               data-target="#collapse-apps" href="#" aria-expanded="false"
                               aria-controls="collapse-apps">

                                <span id="app-name">App Name</span>
                            </a>
                            <ul id="collapse-apps" class='collapse ' role="tabpanel" aria-labelledby="heading-apps" data-children=".nav-item">

                                <li class="nav-item">
                                    <a class="nav-link ripple " data-toggle="modal" data-target="#createAppModal">
                                        <i class="mdi mdi-folder-plus"></i>
                                        <span>Create New App</span>
                                    </a>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link ripple ">
                                        <i class="mdi mdi-upload"></i>
                                        <span>Upload Existing App</span>
                                    </a>
                                </li>

                            </ul>
                        </li>

                        <li class="subheader">
                            <span>Intents</span>
                        </li>

                        <li class="nav-item" onclick="createNewIntent()">
                            <a class="nav-link ripple">
                                <i class="mdi mdi-plus"></i>
                                <span>Create Intent</span>
                            </a>
                        </li>

                        <li class="nav-item intent-search">
                            <input type="text" class="search-input form-control" placeholder="search intents"
                                   aria-label="search intents" />
                        </li>


                    </ul>
                </div>
            </div>
        </aside>

        <div class="content-wrapper">
            <nav id="toolbar" class="bg-white">
                <div class="row no-gutters align-items-center flex-nowrap">
                    <div class="col">
                        <div class="row no-gutters align-items-center flex-nowrap intent-name">
                            <h1 class="display-3" id="intent-name"></h1>
                        </div>
                    </div>

                    <div class="col-auto">
                        <div class="row no-gutters align-items-center justify-content-end">
                            <button type="button" id="save-btn" class="quick-panel-button btn btn-icon"
                                    data-style="contract-overlay" onclick="saveIntentCode()" title="Intent code">
                                <i class="mdi mdi-content-save"></i>
                            </button>

                            <div class="toolbar-separator separator"></div>

                            <button type="button" class="quick-panel-button btn btn-icon" onclick="toggleIntentCode()"
                                    title="Intent code">
                                <i class="mdi mdi-code-tags"></i>
                            </button>

                            <div class="toolbar-separator separator"></div>

                            <button type="button" class="quick-panel-button btn btn-icon" onclick="getIntentProperties()"
                                    title="Intent properties">
                                <i class="mdi mdi-settings"></i>
                            </button>

                            <div class="toolbar-separator separator"></div>

                            <button type="button" class="quick-panel-button btn btn-icon" onclick="toggleTry()"
                                    data-toggle="tooltip" data-placement="bottom" title="Try it now!">
                                <i class="mdi mdi-message-text"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </nav>

            <div class="content custom-scrollbar">
                <div class="page-layout simple right-sidebar">
                    <div class="page-content-wrapper custom-scrollbar">
                        <!-- CONTENT -->
                        <ul class="nav nav-tabs" role="tablist">
                            <li class="nav-item">
                                <a class="nav-link active" data-toggle="tab" href="#graph-tab" role="tab">
                                    <i class="mdi mdi-chart-bubble"></i>
                                    <span>Graph</span>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" data-toggle="tab" href="#code-tab" role="tab" onclick="loadIntentCodeEditor()">
                                    <i class="mdi mdi-code-braces"></i>
                                    <span>Code</span>
                                </a>
                            </li>
                        </ul>
                        <div class="tab-content">
                            <div class="tab-pane fade show active" id="graph-tab" role="tabpanel">
                                <div class="p-6">
                                    <div id="intent-graph" class="graph"></div>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="code-tab" role="tabpanel">
                                <div id="intent-code-editor" class="code-editor"></div>
                            </div>
                        </div>
                        <!-- / CONTENT -->
                    </div>

                    <aside id="properties" class="aside aside-right" data-fuse-bar="properties"
                           data-fuse-bar-media-step="md" data-fuse-bar-position="right">
                        <h1 class="display-4 chat-header">Try it now...</h1>
                        <div class="view flex-column align-items-center justify-content-center">
                            <div class="chat-content col">
                                <div id="message-list" class="chat-messages"></div>
                            </div>

                            <div class="chat-footer row align-items-center justify-content-center p-2 pl-4">
                                <button type="button" class="btn btn-fab btn-info btn-sm" aria-label="Refresh chat"
                                        onclick="refreshChat()">
                                    <i class="mdi mdi-refresh"></i>
                                </button>

                                <div class="form-group col mr-4">
                                    <input type="text" class="form-control" id="message-text" placeholder="Type and hit enter to send message">
                                </div>

                                <button type="button" class="btn btn-fab btn-secondary btn-sm" aria-label="Send message"
                                    onclick="sendMessage()">
                                    <i class="mdi mdi-send"></i>
                                </button>
                            </div>
                        </div>
                    </aside>

                    <aside id="code" class="aside aside-right animated slideInRight" data-fuse-bar="properties"
                           data-fuse-bar-media-step="md" data-fuse-bar-position="right">
                        <div class="code-info">
                            <ul class="nav nav-tabs" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" data-toggle="tab" href="#variables" role="tab" aria-expanded="true">Variables</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" data-toggle="tab" href="#nodes" role="tab">Nodes</a>
                                </li>
                                <li class="nav-item dropdown">
                                    <a class="nav-link" data-toggle="tab" href="#" role="button" aria-haspopup="true" aria-expanded="false">
                                        Functions
                                    </a>
                                </li>
                            </ul>
                            <div class="tab-content">
                                <div class="tab-pane fade show active" id="variables" role="tabpanel">
                                    <p class="h4">Global Variables</p> <br>
                                    <p class="h6">Create new variable</p>
                                    <table>
                                        <tr>
                                            <td>
                                                <input type="text" id="var-name" class="form-control" placeholder="name">
                                            </td>
                                            <td id="var-type-data">
                                                <input type="text" id="var-value-text" class="form-control" placeholder="value">
                                                <select class="form-control form-control-sm" id="var-value-select"
                                                    style="display: none">
                                                    <option value="Response">Response</option>
                                                    <option value="InternalDatabase">Internal Database</option>
                                                    <option value="File">File</option>
                                                </select>
                                            </td>
                                            <td>
                                                <button type="button" class="quick-panel-button btn btn-icon" onclick="toggleVarType()"
                                                        title="Toggle variable type">
                                                    <i class="mdi mdi-toggle-switch"></i>
                                                </button>
                                            </td>
                                        </tr>
                                    </table>
                                    <table id="variables-table">
                                        <thead>
                                            <td>Variable name</td>
                                            <td>Value</td>
                                        </thead>
                                        <tbody id="variables-table-body">

                                        </tbody>
                                    </table>
                                </div>

                                <div class="tab-pane fade" id="nodes" role="tabpanel">
                                    <div class="card">
                                        <div class="card-header" role="tab" id="headingOne" data-toggle="collapse" href="#collapseOne">
                                            <h3 class="mb-0">
                                                <span>Create new node</span>
                                                <button type="button" class="quick-panel-button btn btn-icon btn-sm">
                                                    <i class="mdi mdi-plus"></i>
                                                </button>
                                            </h3>
                                        </div>
                                        <div id="collapseOne" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                                            <div class="card-block">
                                                <div class="form-group">
                                                    <input type="text" class="form-control" id="name-text" placeholder="Name">
                                                    <label class="form-control-label" for="name-text">Name</label>
                                                </div>
                                                <div class="form-group">
                                                    <input class="form-control" type="number" value="5" id="priority-input"/>
                                                    <label for="priority-input">Priority</label>
                                                </div>
                                                <div class="form-group">
                                                    <textarea class="form-control" id="preconditions-text" rows="2"></textarea>
                                                    <label for="conditions-text">Preconditions</label>
                                                </div>
                                                <button type="button" class="btn btn-outline-secondary btn-lg btn-block"
                                                    data-toggle="modal" data-target="#new-node-modal">
                                                    <i class="mdi mdi-code-braces"></i>
                                                    <span>Action Code</span>
                                                </button> <br>
                                                <button type="button" class="btn btn-primary" onclick="createNode()">Create Node</button>
                                            </div>
                                        </div>
                                    </div> <br>

                                    <div class="divider"></div> <br>

                                    <div id="nodes-list">

                                    </div>
                                </div>
                            </div>
                        </div>
                    </aside>

                    <div id="createAppModal" class="modal fade" tabindex="-1" role="dialog"
                         aria-labelledby="createAppModal" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="createAppModalLabel">Create New App</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <div class="input-group mb-3">
                                        <input type="text" class="form-control" placeholder="App name"
                                               aria-label="App name" aria-describedby="basic-addon2">
                                        <div class="input-group-append">
                                            <button class="btn btn-secondary" type="button">Create</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="new-node-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
                        <div class="modal-dialog modal-lg code-editor-modal">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h4 class="modal-title" id="myLargeModalLabel">New node action</h4>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">×</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <div id="new-node-code-editor" class="code-editor">

                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal"
                                            onclick="clearNewNodeEditor()">
                                        Close
                                    </button>
                                    <button type="button" class="btn btn-primary" data-dismiss="modal">Save changes</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="node-action-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
                        <div class="modal-dialog modal-lg code-editor-modal">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h4 class="modal-title" id="myLargeModalLabel">Node Action</h4>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">×</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <div id="node-code-editor" class="code-editor">

                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal"
                                            onclick="clearNodeEditor()">
                                        Close
                                    </button>
                                    <button type="button" id="update-btn" class="btn btn-primary"
                                            data-dismiss="modal">
                                        Save changes
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</main>
</body>

</html>